<HTML>
<HEAD>
<TITLE>BurnP.cg</TITLE>
<meta name="GENERATOR" content="cpp2html 2.1 by Niisaka">
<meta http-equiv="Content-Type" content="text/html">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF">
<PRE><FONT COLOR="#40F628">0001:</FONT> <FONT COLOR="#008000">//</FONT>
<FONT COLOR="#40F628">0002:</FONT> <FONT COLOR="#008000">// This program creates the fire effect.</FONT>
<FONT COLOR="#40F628">0003:</FONT> <FONT COLOR="#008000">//</FONT>
<FONT COLOR="#40F628">0004:</FONT> 
<FONT COLOR="#40F628">0005:</FONT> fragout main(vf20 I
<FONT COLOR="#40F628">0006:</FONT>             , uniform sampler2D tex0
<FONT COLOR="#40F628">0007:</FONT>             , uniform sampler2D tex1
<FONT COLOR="#40F628">0008:</FONT>             , uniform sampler2D tex2
<FONT COLOR="#40F628">0009:</FONT> ) {
<FONT COLOR="#40F628">0010:</FONT>     fragout O;   
<FONT COLOR="#40F628">0011:</FONT> 
<FONT COLOR="#40F628">0012:</FONT>     float4 LastResult = uclamp(tex2D(tex0)
<FONT COLOR="#40F628">0013:</FONT>             - float4(0.15, 0.15, 0.15, 0.0f));
<FONT COLOR="#40F628">0014:</FONT>     float4 NewPoint   = tex2D(tex1);
<FONT COLOR="#40F628">0015:</FONT>     float4 Fire       = tex2D(tex2);
<FONT COLOR="#40F628">0016:</FONT> 
<FONT COLOR="#40F628">0017:</FONT>     O.col = Fire * NewPoint + LastResult;
<FONT COLOR="#40F628">0018:</FONT> 
<FONT COLOR="#40F628">0019:</FONT>   <FONT COLOR="#0000FF">return</FONT> O;
<FONT COLOR="#40F628">0020:</FONT> } 
<FONT COLOR="#40F628">0021:</FONT> </PRE>
</BODY>
</HTML>
