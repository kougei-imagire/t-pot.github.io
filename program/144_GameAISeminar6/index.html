<head>
	<title>t-pot『次世代ゲームにおける自動生成技術』</title>
	<link rel="stylesheet" type="text/css" href="../if.css">
</head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<body>


<div class="contents">
<center>
<BR CLEAR=ALL>
<BR CLEAR=ALL>
<h1>次世代ゲームにおける自動生成技術</h1><br>
<h3>～ 「ゲームAI連続セミナー第6回」レポート ～</h3>
<BR CLEAR=ALL>
<BR CLEAR=ALL>
<BR CLEAR=ALL>
<!--<image src = "title.png">-->
<br>
<hr>
</center>
<div>


<h2>■はじめに</h2>


<p>
<a href="http://www6.plala.or.jp/mnagaku/">長久さん</a>や<a href="http://www.igda.jp/modules/xeblog/?user_id=910">三宅さん</a>がやっている<a href="http://www.igda.jp/modules/eguide/event.php?eid=47">「ゲームAI連続セミナー」 の第６回</a>に行ってみました。
今回のテーマは、進化です。<br>
今回は、三宅さんの講演とグループワークと<a href="http://www.i.u-tokyo.ac.jp/edu/training/ss/student/14/rumi.html">星野瑠美子さん</a>によるライトシンセサイザNeonの紹介やその他、盛りだくさんの構成でした。
</p>

<p>
基本的にセミナー中にメモったものを起こし直したので、
聞き漏らしたり、勘違いしているところがあると思います。すいません。
</p>

<hr>


<h2>■新さんの前説</h2>
<p>
ケベックの「モントリオール・インターナショナル・ゲーム・サミット」のキーノートでSporeの人が「次世代技術はAIだ」と断言していた。
</p>

<hr>
<h2>■長久さんの前説</h2>
<h3>宿題の説明</h3>
<p>
手間がかかっているところを見つけて、自動化できるか考えよう
</p>
<p>
自分のニーズに合致しているか気にしながら三宅さんの話を聞こう
</p>

<hr>
<h2>■三宅陽一郎劇場</h2>

<p>
らき☆すたみてた。
</p>

<h3>これからのＡＩがどうなっていくかということに活かして欲しい</h3>
<p>
毎日同じ世界は退屈<br>
現実世界は、どんなものも同じでないように見える。<br>
ゲーム世界は、十分に変化できる力を持っているか？<br>
　昔のゲームは、同じだからこそ「やりこみ」があった<br>
　最近のゲームは、変化することによる新しい出会い
</p>
<p>
ここ最近の流れ<br>
　オンラインゲームの拡大<br>
　　コンテンツ配信が可能<br>
　　あきさせないゲーム作りが可能<br>
　ユーザークリエイトコンテンツ
</p>
<p>
オフラインでも、動的な生成が可能<br>
　→プロシージャル（計算によってがーっと作る）<br>
　　計算による連続した操作<br>
　　　ゲームでは、自立的な要素として捕らえられる（自動生成）<br>
　　設定した状況以上の変化
</p>
<p>
farbrausch のデモ<br>
　64KB<br>
　メモリには、53MBのデータを生成（圧縮ではない）<br>
　「コンテンツはデータではなく生成できるもの」<br>
　大きなゲームもプロシージャルに作れればデータ用を押さえて作れるんじゃね？<br>
</p>
<p>
現実世界とデジタルの世界をつなぐ<br>
　まだゲームに再現されていない分野がプロシージャルではないか？<br>
　ＣＧ，物理、ＡＩと並ぶ程度の規模<br>
例１：コンテンツ生成<br>
　モデルの自動生成<br>
　　木の生成<br>
例２：ＡＩ<br>
　沢山の計算で周囲の行動を解析して行動を決定<br>
　　Killzone (way pointでリアルタイムに敵の状況に対応)
</p>
<p>
プロシージャルで、どこまでコンテンツが変わっていくのか？変えていくのか？<br>
　全てがプロシージャルなゲームは難しい<br>
　次世代は固定したコンテンツ＋デザインによる部分的な導入<br>
　どこまでいけるかはまだ判明していない。<br>
　　デジタルゲームの可能性の広がりを模索していくべき<br>
　　　企画の力が大事<br>
　ゲーム制作理論、ゲームテクノロジーが拡張していけないか？
</p>

<h3>自動生成技術</h3>

<p>
プロシージャルコンテンツ<br>
　究極には地球シミュレーター
</p>
<p>
大切なこと<br>
　多様性：バリエーション<br>
　意外性：驚き<br>
　クオリティ：ゲーム性にあった質<br>
　　計算づくで生成したものとはクオリティは下がる<br>
　　　ただし、改良によって近いものには持っていける
</p>
<p>
例１：ダンジョンの自動生成<br>
　ローグライクゲーム：1980-<br>
　　最近は、MMOに組み込まれつつある（レベル差の解消）<br>
　　覚えゲーにならない<br>
　　手法<br>
　　　迷路：棒倒し法、穴掘り法、壁伸ばし法 etc.<br>
　　　ダンジョン：部屋を仕切って小部屋を作ってそれらをつなぐ<br>
　　　ゲーム性に応じた方法：部分的、条件をつけて、３Ｄダンジョン<br>
　　　　研究者は行わない分野<br>
　　意義：プロシージャルをゲーム性に組み込むことの典型例<br>
　　　他の分野では、まだこのような典型例はない
</p>
<p>
例２：グラフィックス<br>
　フラクタル：1975-<br>
　　大きい岩も小さな岩も大体同じように見える<br>
　　自然界のパターンは同じ模様がスケールを変えて出てくる<br>
　　「逆に、同じ模様をスケールを変えて重ねれば自然のオブジェクトに見えるはず」<br>
　　例：地形の自動生成<br>
　　　中点変位法、さらにボロノイ図を重ねるとか<br>
　　　terragen:映画の風景画像生成にも使用<br>
　　　Darwinia:グラフィッカーがいなくてもボリュームのあるゲームを作った（2006Independent game festival 大賞）<br>
　　　　開発者に興味をもたれた（開発コストの低減）<br>
　　　　　ゲーム開発体制の試金石<br>
　　　AoE3:毎回同じ地形だとゲーム性が限定されるために<br>
　　例：植物自動生成<br>
　　　L-system:1968-<br>
　　　文法の規則を重ねることで命令の生成を重ねる<br>
　　　　複雑な木の生成<br>
　　　　ダンジョン生成<br>
　　　　街の生成<br>
　　　それ以外にも多くの手法が提案されている<br>
　　　大切なこと<br>
　　　　１つのプロシージャル技術は１つの用途だけでなく、色々な応用ができる。<br>
　　例：雲の自動生成<br>
　　　テクスチャ生成<br>
　　　　パリンノイズで値に応じて色を変える<br>
　　　３Ｄモデルの生成<br>
　　　　負荷が高い<br>
　　　　球の密度分布の塊を作って重ね合わせる<br>
　　　　ゲームの応用例はまだない<br>
　　　　　今までは、ビルボードとか
</p>
<p>
例３：ＡＩ<br>
　ナビゲーションメッシュ：クロムハウンズとか<br>
　　最大80000メッシュなので、手で作るのは難しい<br>
　　あたりモデルから作成<br>
　　　ポリゴンを減らして欲しくない部分の指定などの調整
</p>
<p>
例４：アニメーション<br>
　遺伝的アルゴリズムから生成:1980-<br>
　Oblivion:森のモデル。SpeedTreeで木のモデリング<br>
　　葉のゆれまで、天候の変化にも対応<br>
　Crysis:Procedual Vertex Animation ３角関数で波を動かす<br>
　　全体の動きと葉の動きを制御
</p>
<p>
例５：会話、自然言語生成<br>
　一筋縄ではいかない分野：やりたいと思っているがうまくいっていない<br>
　日本が強い分野<br>
　　くまうた<br>
　　どこいつ：言った言葉に応じてメッセージが変化<br>
　　　ユーザーの入力に対してオンリーワンの応答をしてくれる<br>
　　　自分だけのストーリー<br>
　　シーマン<br>
　Facade：ゲームとしてはびみょ～<br>
　　部屋の中で自動的に演技をする<br>
　　　ドアがノックされたので、迎えに行け！<br>
　　自然言語を入力としたゴールシステム<br>
　　　サッカーゲームによく使われる<br>
　　プロシージャルとしては手間をかけすぎ<br>
　　　シナリオを書いたほうが早いんじゃないの？<br>
　　日本の企画力で何かやって欲しい
</p>

<h3>Procedual AI</h3>
<p>
実は、今までのセミナーで色々と使われてきた。<br>
実例<br>
　KillZone<br>
　　みはらしのデータを埋め込んでおき、判断をプロシージャル生成<br>
　Chromehounds<br>
　　プランをプロシージャルに生成<br>
　Farcry<br>
　　FSM+ゴール指向システム：行動をプロシージャルに組み立て
</p>
<p>
ただし、それだけでは不十分<br>
　Farcry:アンカーシステム<br>
　　レベルデザイナがスクリプトで直接的にイベント制御<br>
　　　Lua によるスクリプティング制御
</p>

<h3>Sporeに見るプロシージャル</h3>
<p>
世界中から自動生成野郎を集めている<br>
生物、建物、惑星などの主要なものはすべてユーザーが生成可能<br>
　単細胞フェーズ<br>
　集団行動フェーズ<br>
　キャラクティックフェーズ
</p>
<p>
モデル生成<br>
　「リゴブロック」のパーツの組み合わせ<br>
テクスチャ生成<br>
　自動＋パターン指定<br>
地形生成<br>
　もともと地形生成やってた人が担当<br>
　ブラシで凹凸をつけられる<br>
　　高さマップ、デカールテクスチャの半自動生成<br>
　植生の自動生成<br>
　　ハルトンシークエンス法（素数からランダムな分布を求める）<br>
　　それらを座標として使用<br>
アニメーション<br>
　スケルトンドリブンアニメーション<br>
　　骨を動かして、その周りの肉を動かす
</p>
<p>
ゲームデザイン<br>
　少しの操作で多様なコンテンツの生成<br>
　　ユーザーの介入＋プロシージャル技術<br>
　「自立的に動作」するコンテンツの生成<br>
　　難易度が高い技術の導入<br>
　　ＥＡがゲーム開発手法として選択したと判断する
</p>

<h3>まとめ</h3>
<p>
プロシージャルゲームへのビジョンは出来た？<br>
広大なプロシージャルな荒野<br>
未知のゲームデザイン<br>
　典型と呼ばれるようなゲームはないので、チャンス<br>
多様なゲームの創出が可能では
</p>

<h3>最後に</h3>

<p>
次世代のゲームＡＩへのビジョンを見せるのが本来の目的<br>
新しいゲームデザインがあるのではないか？<br>
遠くまで見えたでしょうか？
</p>

<hr>
<h2>■ライトシンセサイザNeonの紹介</h2>
<p>
Llamasoft制：Xbox360内蔵<br>
2人1年弱の開発<br>
コントローラ（４入力）と音に反応して動く<br>
　グラフィックスをプロシージャルに動かして楽しむ<br>
ゲームへの応用：Space Giraffe<br>
　グラフィックス生成にNeonを使用(LIVE Archede)<br>
　敵、背景のグラフィックス生成を追加<br>
　カスタムサウンドトラックに対応<br>
目的はアルゴリズムも含めて全てプロシージャルに作れないか<br>
いったん、使えるレベルのものを作れれば、後は楽（そこまでは難しい）
</p>

<hr>
<h2>■グループワーク</h2>

<!--
□モーション
　評価システム
　 
　バリエーション
　　ＩＫの拡張
　　　エネルギーを最小にするとかで、パターンが変えられないか。
　　足のすべり
　　　ゴール指向プランニングが使えない？
-->

<h3>□私のターン</h3>
<p>
キャラクタモデリングが制作が大変そうだから、なんか自動化できるかな？
</p>
<img src="chara_creation.png">
<p>
バリエーション<br>
　自動化できそうな工程<br>
　　エフェクト作成<br>
　　エフェクト配置<br>
　　補助骨の埋め込み<br>
　　　アーマーなどの装備を考えると後で追加できるように作っておくほうがよいだろう<br>
　　ボーンのウェイト付け<br>
　　質感付け<br>
　根元の作業が広がると、先の処理が発散するから、末端から発展させるほうが安全
</p>
<p>
時間がかかるプロセスはどこ？<br>
　テクスチャ作成？<br>
　UV展開は自動でできそうだが、描くのを自動にできる？
</p>
<p>
イメージイラストからモデリングの設計が自動でできない？<br>
　ラクガキ王国のすごい版<br>
　イメージイラストには描き込みがある程度あるはずだから、パースが狂っていても補正がある程度できるかも<br>
　カトキ立ちなどのデザイナーのクセも、あらかじめそれがわかっていれば補正できる？
</p>
<p>
World of Warcraft では、８種族で２００種類ぐらいの防具が当てはめることができた。どうやってるんだろう。<br>
　スケールして、当たり判定で処理してるんじゃない？<br>
　ぶかぶかに作っておくのかなぁ
</p>

<!--
□農工大->コナミ予定（今は、どこいつのプランナ＆プログラマ）
三宅さんのは５０％ぐらいあってる（いまはもっとすごい）

今のどこいつのテーマは音声認識
　来週リリース？

会話の生成は、
　ネタきめ->話題の振り方->スクリプト
　誤認識したときにユーザーがつっこめるようにしている。
　　突っ込みを入れられた時の対応をいれてゲーム性を高める

コントを作れない？
　４コマを作れる
　ネットで適当にあったグーぐるイメージを取ってくる技術がある
-->

<hr>

<h2>■AI演出の企画的アプローチと考察：大野功二(O-Planning)</h2>

<h3>前のセミナーの内容報告と実際に実装した話</h3>
<p>
セミナーでは宿題をしていなかったので、その場で考えた<br>
　オプションが進化するシューティング<br>
　オプションが敵を倒してくれる<br>
　オプションが進化して賢くなる<br>
実装：とりあえず全部入れてみた<br>
　センサーによる解析<br>
　ニューロン*NEAT<br>
　進化に遺伝＋ＧＡ<br>
行動<br>
　弾を避ける<br>
　敵から逃げる<br>
　敵を攻撃する
</p>
<p>
討論：教師信号をどうするか？<br>
　どこからどこまでを評価？<br>
　ほめてタイミングを表示してみるのは？
</p>
<p>
考察：ＡＩのゲームは、遊ぶより作るほうが面白いんじゃない？<br>
　それは、「死」の表現があまり行われていないのではないか<br>
　それにより、遊んでいるユーザーにも面白さが伝わるのでは？<br>
　ＡＩの生と死を見せて、進化の過程を見せてみる<br>
　ＡＩを作っているときは、バカなりに楽しくない？<br>
　　ＡＩのキャラ化：日本人の得意分野。より感情移入させる<br>
　　　キャラで一番うまくいっているのはポケモンかな？<br>
　　キャラの幅が広がるので、ナニワ節とか表現できるのでは？
</p>
<p>
まとめ<br>
　日本人は、キャラ化がうまいので、この手法を使えば海外ではできないゲームが生まれないか。<br>
</p>
<h3>実際のゲームに適応</h3>
<p>
賢く育てたオプションは、うまく追従してくれる<br>
</p>
<h3>感想</h3>
<p>
しがらみのない企画作業はエキサイティングだった<br>
　初対面の方とのグループワークは、違うルーツを持っていて楽しかった<br>
　前向きな議論ができた。
</p>

<hr>
<h2>■AIに関する社内での取り組みについて：田村祐樹(ネバーランドカンパニー)</h2>

<h3>ネバーランドカンパニー</h3>
<p>
ルーンファクトリー、シャイニングフォース、煉獄を作っている会社。４○人
</p>

<h3>セミナーの内容を社内に持って帰った</h3>
<p>
週１時間程度話している。<br>
　キーワードを抜き出して解説<br>
　　作業効率を高められないかという視点<br>
　　プログラマ以外のデザイナやプランナにも<br>
　　　実装に関する詳細なし<br>
　Keynoteを使った動きのあるスライド<br>
　ディスカッション<br>
　　マインドマップにして残す<br>
昼１２時近くに仕事として取り組む
</p>
<h3>理想型</h3>
<p>
メンバーの固定化->やむを得ない->興味の持ち方が違う(無理強いしても駄目)<br>
業務が忙しい…->すぐに結果を求めないほうが良い<br>
自分が忙しくなる？
</p>
<h3>理想型</h3>
<p>
勉強会をもっとしたい<br>
もっとすごいことを作って生きたい<br>
エネルギーを共有できたら…
</p>
<h3>個人的に感じること</h3>
<p>
役に立つかは関係ない<br>
違った方向に目を向けるための取り組み<br>
最後は盛り上がるかどうかは意識の問題<br>
無理すると駄目<br>
好きなことでないとだめ<br>
無理なものは無理
</p>
<h3>おすすめ</h3>
<p>
新しいこと、画期的なことにこだわらない<br>
楽に楽しく作れるツールを探す<br>
気楽に行こう
</p>
<h3>まとめ</h3>
<p>
小さなことからこつこつと<br>
興味を持ってもらえれば…<br>
社内だけでなく社外でも何かしたい
</p>

<hr>
<h2>■カードゲームにおける敵AIの実装事例：伊藤周(セガ)</h2>

<h3>アーケードゲームにおける敵ＡＩの開発事例報告</h3>
<p>
使った技術<br>
　状況判断にFSM<br>
　　敵１体の思考<br>
　　○<br>
　パス検索にA*<br>
　　複雑な地形（迷路）に対応<br>
　　シンプルなものを使っている<br>
　　△：仕様が変わった…<br>
　世界表現に影響マップ<br>
　　敵の強さ(武器ごととか)のパターンが無限に存在<br>
　　一番安全なところに行きたい！という判断に使う<br>
　　△：仕様が変わった…<br>
　パラメータ調整に遺伝的アルゴリズム<br>
　　どれだけＨＰが減ったら本拠地に戻る<br>
　　この距離で攻撃されたらどこに逃げる？<br>
　　×：試行錯誤に時間がかかる<br>
　　　　ＡＩ担当以外はプログラムを理解できない（汚いわけじゃない）
</p>
<h3>どうしたら</h3>
<p>
仕様の変化に対応できる開発体制<br>
開発スケジュールを無駄なく計画<br>
ＡＩの知識を共有<br>
→それってＸＰ？
</p>

<h3>ＸＰとは？</h3>
<p>
変化を受け入れること<br>
そのためのプラクティスを実行する<br>
　仕様は変わるもの<br>
　　計画ゲーム：企画と一緒に計画を立てる<br>
　　短期リリース：短い期間で企画と実装を確認していく<br>
　プログラムは変わるもの<br>
　　テストワーストプログラミング：テストを先に書く<br>
　　リファクタリング：無駄を改善<br>
　人材は変わるもの<br>
　　ペアプログラミング：<br>
　　コード共有所有：全員がプログラムを変更できるようにする（CVSとか）
</p>
<h3>まずは、ユニットテストからはどう？</h3>
<p>
モジュール単位のテスト<br>
ＡＩ開発とユニットテストは愛想がよさそう<br>
　対話的にコーディングができる<br>
　　assertのようにテストを埋め込むとコンピュータとしゃべっているかのよう<br>
　仕様の変更に強い<br>
　　今までのチェックが無駄にならない<br>
　　　今給黎の疑問：チェックの内容に矛盾が起きてこないの？<br>
　楽しい<br>
　　出来上がっている様が（テスト結果を通して）目で確認できる<br>
　　バグを取るのがゲームをプレイしているように感じる
</p>

<hr>

<h2>■Group Workのまとめ</h2>

<p>
今給黎：アクティビティ図をＰＣで書いたら前に立たされて説明させられた…<br>
長久：図でかけるということは自動化できるということだよねぇ
</p>

<hr>
<h2>■まとめ</h2>

<h3>長久</h3>
<p>
ブレインストーミングの方法を会社に帰ってやって欲しい<br>
できたものをそのまま持っていくのは、会社間の関係もあるし難しいかも知れないけど手法は持って帰れるはず。また、帰ってから考え直すと業務に繋げられるのでは。
</p>

<h3>三宅</h3>
<p>
ＣＥＤＥＣで長久さんから話をもらって、膨らめていった。なるべく遠くを見て、走っていけるように。優秀な人に広がりがあるので取り組んで欲しいというメッセージを伝えたかった。<br>
ＡＩはノウハウを公開しても分野に広がりがありすぎるのでデメリットがあまりないと感じているので、その試みを広げたかった。社内だけの公開だと共有情報が多いので、ツーカーで繋がることが多い。社外に公開することで本当に知らない人のことを考えてまとめる。ＡＩはオープンにした方がよさそうで、そのほうが楽しいのではと感じている。<br>
ＡＩは短期的な視野と長期的な視野がある。学問としての基礎がまだ完全ではないので、長期的な視野で考えたいと思っている。知識を持っていると、何らかの形で表に出てくるはず。<br>
社内セミナーをやると、「何かやっている」という興味を持ってもらえて、会社の文化として残していけるとおもう。<br>
ＡＩはコンテンツを食べながら進めると育つと思う。なので、日本が有利なはずだけど、アメリカが強い。日本はゲームデザインでゲームを進化させられるが、アメリカは技術でしか進化させることができない。
</p>

<h2>■感想</h2>

<p>
ＡＩセミナーですが、講義はＡＩっぽくないセミナーでした。<br>
でも、プロシージャルは次世代への方向性としてはちょっといいかも。<br>
腰をすえて勉強してみようかなぁ
</p>

<p>
今回が、「ゲームAI連続セミナー」最終回ということで、長久さん、三宅さん、フロムの皆さん、その他運営をされていた皆々様方、大変お疲れ様でした。
</p>

</div>
<br clear=all>
<br clear=all>
<br clear=all>
<center>
<hr>
<p><a href="../index.html">もどる</a></p>
<p><a href="mailto:imagire@gmail.com">imagire@gmail.com</a></p>
</center>

</body>
</html>
