<HTML>
<HEAD>
<TITLE>d3denumeration.h</TITLE>
<meta name="GENERATOR" content="cpp2html 2.1 by Niisaka">
<meta http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Style-Type" content="text/css">
<STYLE TYPE="text/css">
<!--
SPAN.comment { color:#008000; font-weight:normal; font-style:normal;}
SPAN.keyword { color:#0000FF; font-weight:normal; font-style:normal;}
SPAN.string { color:#600000; font-weight:normal; font-style:normal;}
SPAN.linenum { color:#A0A0A0; font-weight:normal; font-style:normal;}
-->
</STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF">
<PRE><SPAN CLASS="linenum">0001:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0002:</SPAN> <SPAN CLASS="comment">// File: D3DEnumeration.h</SPAN>
<SPAN CLASS="linenum">0003:</SPAN> <SPAN CLASS="comment">//</SPAN>
<SPAN CLASS="linenum">0004:</SPAN> <SPAN CLASS="comment">// Desc: Enumerates D3D adapters, devices, modes, etc.</SPAN>
<SPAN CLASS="linenum">0005:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0006:</SPAN> 
<SPAN CLASS="linenum">0007:</SPAN> <SPAN CLASS="keyword">#ifndef</SPAN> D3DENUM_H
<SPAN CLASS="linenum">0008:</SPAN> <SPAN CLASS="keyword">#define</SPAN> D3DENUM_H
<SPAN CLASS="linenum">0009:</SPAN> 
<SPAN CLASS="linenum">0010:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0011:</SPAN> <SPAN CLASS="comment">// Name: enum VertexProcessingType</SPAN>
<SPAN CLASS="linenum">0012:</SPAN> <SPAN CLASS="comment">// Desc: Enumeration of all possible D3D vertex processing types.</SPAN>
<SPAN CLASS="linenum">0013:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0014:</SPAN> <SPAN CLASS="keyword">enum</SPAN> VertexProcessingType
<SPAN CLASS="linenum">0015:</SPAN> {
<SPAN CLASS="linenum">0016:</SPAN>     SOFTWARE_VP,
<SPAN CLASS="linenum">0017:</SPAN>     MIXED_VP,
<SPAN CLASS="linenum">0018:</SPAN>     HARDWARE_VP,
<SPAN CLASS="linenum">0019:</SPAN>     PURE_HARDWARE_VP
<SPAN CLASS="linenum">0020:</SPAN> };
<SPAN CLASS="linenum">0021:</SPAN> 
<SPAN CLASS="linenum">0022:</SPAN> 
<SPAN CLASS="linenum">0023:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0024:</SPAN> <SPAN CLASS="comment">// Name: struct D3DAdapterInfo</SPAN>
<SPAN CLASS="linenum">0025:</SPAN> <SPAN CLASS="comment">// Desc: Info about a display adapter.</SPAN>
<SPAN CLASS="linenum">0026:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0027:</SPAN> <SPAN CLASS="keyword">struct</SPAN> D3DAdapterInfo
<SPAN CLASS="linenum">0028:</SPAN> {
<SPAN CLASS="linenum">0029:</SPAN>     <SPAN CLASS="keyword">int</SPAN> AdapterOrdinal;
<SPAN CLASS="linenum">0030:</SPAN>     D3DADAPTER_IDENTIFIER9 AdapterIdentifier;
<SPAN CLASS="linenum">0031:</SPAN>     CArrayList* pDisplayModeList; <SPAN CLASS="comment">// List of D3DDISPLAYMODEs</SPAN>
<SPAN CLASS="linenum">0032:</SPAN>     CArrayList* pDeviceInfoList; <SPAN CLASS="comment">// List of D3DDeviceInfo pointers</SPAN>
<SPAN CLASS="linenum">0033:</SPAN>     ~D3DAdapterInfo( <SPAN CLASS="keyword">void</SPAN> );
<SPAN CLASS="linenum">0034:</SPAN> };
<SPAN CLASS="linenum">0035:</SPAN> 
<SPAN CLASS="linenum">0036:</SPAN> 
<SPAN CLASS="linenum">0037:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0038:</SPAN> <SPAN CLASS="comment">// Name: struct D3DDeviceInfo</SPAN>
<SPAN CLASS="linenum">0039:</SPAN> <SPAN CLASS="comment">// Desc: Info about a D3D device, including a list of D3DDeviceCombos (see below) </SPAN>
<SPAN CLASS="linenum">0040:</SPAN> <SPAN CLASS="comment">//       that work with the device.</SPAN>
<SPAN CLASS="linenum">0041:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0042:</SPAN> <SPAN CLASS="keyword">struct</SPAN> D3DDeviceInfo
<SPAN CLASS="linenum">0043:</SPAN> {
<SPAN CLASS="linenum">0044:</SPAN>     <SPAN CLASS="keyword">int</SPAN> AdapterOrdinal;
<SPAN CLASS="linenum">0045:</SPAN>     D3DDEVTYPE DevType;
<SPAN CLASS="linenum">0046:</SPAN>     D3DCAPS9 Caps;
<SPAN CLASS="linenum">0047:</SPAN>     CArrayList* pDeviceComboList; <SPAN CLASS="comment">// List of D3DDeviceCombo pointers</SPAN>
<SPAN CLASS="linenum">0048:</SPAN>     ~D3DDeviceInfo( <SPAN CLASS="keyword">void</SPAN> );
<SPAN CLASS="linenum">0049:</SPAN> };
<SPAN CLASS="linenum">0050:</SPAN> 
<SPAN CLASS="linenum">0051:</SPAN> 
<SPAN CLASS="linenum">0052:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0053:</SPAN> <SPAN CLASS="comment">// Name: struct D3DDSMSConflict</SPAN>
<SPAN CLASS="linenum">0054:</SPAN> <SPAN CLASS="comment">// Desc: A depth/stencil buffer format that is incompatible with a</SPAN>
<SPAN CLASS="linenum">0055:</SPAN> <SPAN CLASS="comment">//       multisample type.</SPAN>
<SPAN CLASS="linenum">0056:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0057:</SPAN> <SPAN CLASS="keyword">struct</SPAN> D3DDSMSConflict
<SPAN CLASS="linenum">0058:</SPAN> {
<SPAN CLASS="linenum">0059:</SPAN>     D3DFORMAT DSFormat;
<SPAN CLASS="linenum">0060:</SPAN>     D3DMULTISAMPLE_TYPE MSType;
<SPAN CLASS="linenum">0061:</SPAN> };
<SPAN CLASS="linenum">0062:</SPAN> 
<SPAN CLASS="linenum">0063:</SPAN> 
<SPAN CLASS="linenum">0064:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0065:</SPAN> <SPAN CLASS="comment">// Name: struct D3DDeviceCombo</SPAN>
<SPAN CLASS="linenum">0066:</SPAN> <SPAN CLASS="comment">// Desc: A combination of adapter format, back buffer format, and windowed/fullscreen </SPAN>
<SPAN CLASS="linenum">0067:</SPAN> <SPAN CLASS="comment">//       that is compatible with a particular D3D device (and the app).</SPAN>
<SPAN CLASS="linenum">0068:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0069:</SPAN> <SPAN CLASS="keyword">struct</SPAN> D3DDeviceCombo
<SPAN CLASS="linenum">0070:</SPAN> {
<SPAN CLASS="linenum">0071:</SPAN>     <SPAN CLASS="keyword">int</SPAN> AdapterOrdinal;
<SPAN CLASS="linenum">0072:</SPAN>     D3DDEVTYPE DevType;
<SPAN CLASS="linenum">0073:</SPAN>     D3DFORMAT AdapterFormat;
<SPAN CLASS="linenum">0074:</SPAN>     D3DFORMAT BackBufferFormat;
<SPAN CLASS="linenum">0075:</SPAN>     <SPAN CLASS="keyword">bool</SPAN> IsWindowed;
<SPAN CLASS="linenum">0076:</SPAN>     CArrayList* pDepthStencilFormatList; <SPAN CLASS="comment">// List of D3DFORMATs</SPAN>
<SPAN CLASS="linenum">0077:</SPAN>     CArrayList* pMultiSampleTypeList; <SPAN CLASS="comment">// List of D3DMULTISAMPLE_TYPEs</SPAN>
<SPAN CLASS="linenum">0078:</SPAN>     CArrayList* pMultiSampleQualityList; <SPAN CLASS="comment">// List of DWORDs (number of quality </SPAN>
<SPAN CLASS="linenum">0079:</SPAN>                                          <SPAN CLASS="comment">// levels for each multisample type)</SPAN>
<SPAN CLASS="linenum">0080:</SPAN>     CArrayList* pDSMSConflictList; <SPAN CLASS="comment">// List of D3DDSMSConflicts</SPAN>
<SPAN CLASS="linenum">0081:</SPAN>     CArrayList* pVertexProcessingTypeList; <SPAN CLASS="comment">// List of VertexProcessingTypes</SPAN>
<SPAN CLASS="linenum">0082:</SPAN>     CArrayList* pPresentIntervalList; <SPAN CLASS="comment">// List of D3DPRESENT_INTERVALs</SPAN>
<SPAN CLASS="linenum">0083:</SPAN> 
<SPAN CLASS="linenum">0084:</SPAN>     ~D3DDeviceCombo( <SPAN CLASS="keyword">void</SPAN> );
<SPAN CLASS="linenum">0085:</SPAN> };
<SPAN CLASS="linenum">0086:</SPAN> 
<SPAN CLASS="linenum">0087:</SPAN> 
<SPAN CLASS="linenum">0088:</SPAN> <SPAN CLASS="keyword">typedef</SPAN> <SPAN CLASS="keyword">bool</SPAN>(* CONFIRMDEVICECALLBACK)( D3DCAPS9* pCaps, 
<SPAN CLASS="linenum">0089:</SPAN>     VertexProcessingType vertexProcessingType, D3DFORMAT backBufferFormat );
<SPAN CLASS="linenum">0090:</SPAN> 
<SPAN CLASS="linenum">0091:</SPAN> 
<SPAN CLASS="linenum">0092:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0093:</SPAN> <SPAN CLASS="comment">// Name: class CD3DEnumeration</SPAN>
<SPAN CLASS="linenum">0094:</SPAN> <SPAN CLASS="comment">// Desc: Enumerates available D3D adapters, devices, modes, etc.</SPAN>
<SPAN CLASS="linenum">0095:</SPAN> <SPAN CLASS="comment">//-----------------------------------------------------------------------------</SPAN>
<SPAN CLASS="linenum">0096:</SPAN> <SPAN CLASS="keyword">class</SPAN> CD3DEnumeration
<SPAN CLASS="linenum">0097:</SPAN> {
<SPAN CLASS="linenum">0098:</SPAN> <SPAN CLASS="keyword">private</SPAN>:
<SPAN CLASS="linenum">0099:</SPAN>     IDirect3D9* m_pD3D;
<SPAN CLASS="linenum">0100:</SPAN> 
<SPAN CLASS="linenum">0101:</SPAN> <SPAN CLASS="keyword">private</SPAN>:
<SPAN CLASS="linenum">0102:</SPAN>     HRESULT EnumerateDevices( D3DAdapterInfo* pAdapterInfo, CArrayList* pAdapterFormatList );
<SPAN CLASS="linenum">0103:</SPAN>     HRESULT EnumerateDeviceCombos( D3DDeviceInfo* pDeviceInfo, CArrayList* pAdapterFormatList );
<SPAN CLASS="linenum">0104:</SPAN>     <SPAN CLASS="keyword">void</SPAN> BuildDepthStencilFormatList( D3DDeviceCombo* pDeviceCombo );
<SPAN CLASS="linenum">0105:</SPAN>     <SPAN CLASS="keyword">void</SPAN> BuildMultiSampleTypeList( D3DDeviceCombo* pDeviceCombo );
<SPAN CLASS="linenum">0106:</SPAN>     <SPAN CLASS="keyword">void</SPAN> BuildDSMSConflictList( D3DDeviceCombo* pDeviceCombo );
<SPAN CLASS="linenum">0107:</SPAN>     <SPAN CLASS="keyword">void</SPAN> BuildVertexProcessingTypeList( D3DDeviceInfo* pDeviceInfo, D3DDeviceCombo* pDeviceCombo );
<SPAN CLASS="linenum">0108:</SPAN>     <SPAN CLASS="keyword">void</SPAN> BuildPresentIntervalList( D3DDeviceInfo* pDeviceInfo, D3DDeviceCombo* pDeviceCombo );
<SPAN CLASS="linenum">0109:</SPAN> 
<SPAN CLASS="linenum">0110:</SPAN> <SPAN CLASS="keyword">public</SPAN>:
<SPAN CLASS="linenum">0111:</SPAN>     CArrayList* m_pAdapterInfoList;
<SPAN CLASS="linenum">0112:</SPAN>     <SPAN CLASS="comment">// The following variables can be used to limit what modes, formats, </SPAN>
<SPAN CLASS="linenum">0113:</SPAN>     <SPAN CLASS="comment">// etc. are enumerated.  Set them to the values you want before calling</SPAN>
<SPAN CLASS="linenum">0114:</SPAN>     <SPAN CLASS="comment">// Enumerate().</SPAN>
<SPAN CLASS="linenum">0115:</SPAN>     CONFIRMDEVICECALLBACK ConfirmDeviceCallback;
<SPAN CLASS="linenum">0116:</SPAN>     UINT AppMinFullscreenWidth;
<SPAN CLASS="linenum">0117:</SPAN>     UINT AppMinFullscreenHeight;
<SPAN CLASS="linenum">0118:</SPAN>     UINT AppMinColorChannelBits; <SPAN CLASS="comment">// min color bits per channel in adapter format</SPAN>
<SPAN CLASS="linenum">0119:</SPAN>     UINT AppMinAlphaChannelBits; <SPAN CLASS="comment">// min alpha bits per pixel in back buffer format</SPAN>
<SPAN CLASS="linenum">0120:</SPAN>     UINT AppMinDepthBits;
<SPAN CLASS="linenum">0121:</SPAN>     UINT AppMinStencilBits;
<SPAN CLASS="linenum">0122:</SPAN>     <SPAN CLASS="keyword">bool</SPAN> AppUsesDepthBuffer;
<SPAN CLASS="linenum">0123:</SPAN>     <SPAN CLASS="keyword">bool</SPAN> AppUsesMixedVP; <SPAN CLASS="comment">// whether app can take advantage of mixed vp mode</SPAN>
<SPAN CLASS="linenum">0124:</SPAN>     <SPAN CLASS="keyword">bool</SPAN> AppRequiresWindowed;
<SPAN CLASS="linenum">0125:</SPAN>     <SPAN CLASS="keyword">bool</SPAN> AppRequiresFullscreen;
<SPAN CLASS="linenum">0126:</SPAN>     CArrayList* m_pAllowedAdapterFormatList; <SPAN CLASS="comment">// list of D3DFORMATs</SPAN>
<SPAN CLASS="linenum">0127:</SPAN> 
<SPAN CLASS="linenum">0128:</SPAN>     CD3DEnumeration();
<SPAN CLASS="linenum">0129:</SPAN>     ~CD3DEnumeration();
<SPAN CLASS="linenum">0130:</SPAN>     <SPAN CLASS="keyword">void</SPAN> SetD3D(IDirect3D9* pD3D) { m_pD3D = pD3D; }
<SPAN CLASS="linenum">0131:</SPAN>     HRESULT Enumerate();
<SPAN CLASS="linenum">0132:</SPAN> };
<SPAN CLASS="linenum">0133:</SPAN> 
<SPAN CLASS="linenum">0134:</SPAN> <SPAN CLASS="keyword">#endif</SPAN>
<SPAN CLASS="linenum">0135:</SPAN> </PRE>
</BODY>
</HTML>
