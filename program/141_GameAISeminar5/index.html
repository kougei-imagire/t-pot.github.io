<head>
	<title>t-pot『NEROにおける学習と進化』</title>
	<link rel="stylesheet" type="text/css" href="../if.css">
</head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<body>


<div class="contents">
<center>
<BR CLEAR=ALL>
<BR CLEAR=ALL>
<h1>NEROにおける学習と進化</h1><br>
<h3>～ 「ゲームAI連続セミナー第5回」レポート ～</h3>
<BR CLEAR=ALL>
<BR CLEAR=ALL>
<BR CLEAR=ALL>
<!--<image src = "title.png">-->
<br>
<hr>
</center>
<div>


<h2>■はじめに</h2>


<p>
<a href="http://www6.plala.or.jp/mnagaku/">長久さん</a>や<a href="http://www.igda.jp/modules/xeblog/?user_id=910">三宅さん</a>がやっている<a href="http://www.igda.jp/modules/eguide/event.php?eid=45">「ゲームAI連続セミナー」 の第５回</a>に行ってみました。
今回のテーマは、進化です。<br>
今回も三宅さんの講演とグループワークの２部構成です。
</p>

<p>
フロムさん初潜入でした。１階の広めの会議室で８０人ぐらい参加していました（その先もスペースがありそうだったが？）。
</p>

<p>
基本的にセミナー中にメモったものを起こし直したので、
聞き漏らしたり、勘違いしているところがあると思います。すいません。
</p>

<hr>

<h2>■最初（長久さん）</h2>

<p>
概要紹介<br>
　遺伝的アルゴリズム<br>
　　そんなに数式はむずかしくないよ<br>
　ニューラルネットワーク<br>
</p>

<p>
セミナーを受講するときの姿勢<br>
　メモ取れ<br>
　その場で理解しなくても、後でググッたりWikipediaで調べればよい
</p>

<hr>

<h2>■NEROにおける学習と進化（三宅）</h2>

<p>
□セミナーの紹介<br>
グループワークはうまくいきにくいので個人ベースに変更
</p>

<p>
□今回のセミナーについて<br>
てーま：生物学の法則をゲームに持ち込む<br>
　生殖遺伝<br>
　　遺伝的アルゴリズム<br>
　学習原理<br>
　　ニューラルネット<br>
　生物の進化<br>
　　遺伝的アルゴリズム×ニューラルネット
</p>
<p>
人間は、学習、行動、環境からのフィードバックで発展する<br>
人工知能の流派<br>
　シンボリズム<br>
　　シンボルによる知識表現によって人工知能を組み立てる方法<br>
　　今までのゲームAIセミナーでやってきたこと<br>
　　C4アーキテクチャ<br>
　コネクショニズム<br>
　　結合回路によって人口知識を組み立てる<br>
　　回路が動的に変化することで成長をする<br>
　　ニューラルネットワーク<br>
集団を進化させる方法が遺伝的アルゴリズム
</p>

<p>
□C4アーキテクチャ<br>
デジタル世界で生きる生物の知性のために提案されたアーキテクチャ<br>
　<b>外界からデータを読み込んで（認識して）、ワーキングメモリに書き込む。<br>
　そこから、アクションを選択して、掲示板に書き込んで、それを見て動く</b>。<br>
以下のことが可能<br>
　記憶によって、「予測」が可能になる。<br>
　予測が失敗したら、「驚き」を起こすことができる。<br>
　学習<br>
　固体差の表現<br>
</p>
<p>
認識ツリー<br>
　　NPCを組むときは、まず<b>記憶を溜め込む</b>。それによって賢くなれる<br>
　人間が間違えそうなところで間違えることができる。<br>
　精緻化によって賢くできる。<br>
　　条件判定のロジックやパラメータをより詳細にしていく。<br>
　生物ごとに必要な認識が違う<br>
　　ツリーを部分的に選択することで個性が出せる。
</p>
<p>
行動<br>
　アクションタプルで記録<br>
　　トリガー条件、行動、オブジェクト情報、<br>
　強化学習：<b>だんだんと１つの行動を起こすようにする</b>。<br>
　　もっとも高い評価値を実行<br>
　　プレイヤーが報酬を与えられる。<br>
　　評価がよければ、原因となったトリガーの評価値が高くなるようにする<br>
<br>
どう情報を抜き出すかを考えれば賢いAIができる。
</p>

<p>
□遺伝的アルゴリズム<br>
ある集団がいて、<b>「遺伝子」を入れ替えながら世代交代</b>を行う。<br>
だんだんとミッションをクリアしていくようになる。<br>
　シミュレーションして、結果を評価していいものほど多く残すように遺伝させる<br>
　　評価値から適応度を計算する（上の方が差が少ないとかある）<br>
　　　色々なテクニックがある（順位スケーリング、シグマスケーリング、ボルツマンスケーリング）<br>
　突然変異もさせる<br>
　　適当にビット反転とか
</p>
<p>
アストロノーカ<br>
　裏で２０体の試行を行っている<br>
　１日で５世代分の進化<br>
　　適応度がなるべく一定になるように調整している
</p>

<p>
□Q&A<br>
Q.組み込んだけど、自由度が高すぎてどうすれば良いかわからなくなった。<br>
A.各ステップごとにノウハウが存在する<br>
　多点交差は、性質が保存されにくいとか<br>
　なるべく余裕があるときに実験すること<br>
　　マスターアップ直前に組み込むのは駄目<br>
　グラフで可視化しておくと、パラメータの関係がわかる<br>
　理屈は読んでも「う～ん」となる。
</p>

<p>
□ニューラルネットワーク<br>
PONGのAIにニューラルネットを使った例<br>
　ボールのX,Y、前の位置からネットワークの強さを切り替えて進化<br>
ニューロンを数学的モデルとして実現<br>
　<b>回路（人口ニューロン）をいっぱい作って階層化</b><br>
　誤差伝播法という難しい方法があるが、ゲームではあまり使われてない。<br>
　　お勧めでもない（労力の割りに…初期値による不安点とかある）
</p>

<p>
□NEAT（Neuron Evolution of Augmenting Technologies）<br>
ニューラルネットワークを定義して、遺伝的アルゴリズムで、進化を決定。<br>
　動的につながりを変更<br>
　繋がっている情報を遺伝子に組み込む<br>
　シンプルで有効<br>
ゲームデザインが要
</p>

<p>
□まとめ<br>
遺伝的アルゴリズム、ニューラルネットは文献が多くて勉強しやすい<br>
ゲームへの実例は少ない<br>
原理を理解してデザインを生み出すことがこれから大事では。<br>
<br>
まずは、技術を使ったもので遊びましょう<br>
　動作させては結果を見て、実験して遊ぶ<br>
　デモは簡単なものなので、それを見て使えないと判断しては駄目。
</p>

<p>
□Q&A<br>
Q.ニューロンの数はどうやって決定？<br>
A.重みの数が自由度になる。入力に対する応答の豊かさも影響する<br>
　でも、実験するしかない。
</p>

<hr>

<h2>■グループワーク</h2>

<p>
各自、宿題をやってきて、それを講演を元に修正して、
みんなに評価してもらう。<br>
以降は自分のネタ。
</p>


<p>
□宿題：自分で進化するものを考えてみよう。<br>
<br>
題目：ユーザークリエイションアルゴリズム(アルゴリズム2.0)<br>
<br>
一般的に、ユーザーにアルゴリズムを考えてもらって<br>
その評価として遺伝的アルゴリズムを使う。<br>
<br>
たとえば、セカンドライフのようなものに虫を作りましょう。<br>
誰が一番。繁殖できるでしょうか？<br>
（サーバーの負荷とかも考慮できると良いですね）<br>
<br>
したがって、テストファーストな手法。<br>
<br>
動的言語が必要もしくは、関数テーブルの嵐になりそう
</p>


<p>
□解決の方向性を見つける：講演を踏まえて、どのように実現する？<br>
<br>
各虫のインスタンスをエージェント化（遺伝＋ニューラル）<br>
<br>
ルールをどう与える？<br>
入力と出力を与えられる。<br>
　こうなったときに、こうなるように振舞うようがんばれ。<br>
　　入力、出力は簡単なものを組み合わせる<br>
　　入力<br>
　　　人が見えたとき<br>
　　　障害物が見えたときに…<br>
　　出力<br>
　　　首を振る。<br>
　　　前、斜めに動く。<br>
　　　～の後に～をする。<br>
<br>
　暗黙の制限（サーバーの負荷を上げるものは悪いアルゴリズムなど）による適応度の上位的な変更はある。<br>
<br>
　矛盾のルールもOK
</p>

<p>
□グループで発表して、意見をもらう<br>
<br>
増えるのは？<br>
　それによって、得点が割れていくのは面白いかもしれない。<br>
<br>
食物連鎖は？<br>
　複雑になり過ぎそう
</p>

<!--
<p>
１５分でそれぞれ自己紹介
<p>
□関口修平
カードゲーム
　思考ルーチン、デッキは用意されたもの。
　AIがデッキを作る。
　遺伝的アルゴリズム
　　対戦させる。
　配信したときにそれを組み込んだデッキを勝手に作る。
　プレイスタイルに流行があるので、それに対応。

<p>
□佐藤直哉
FPSチーム対チーム
　いかに効率よく敵を倒せるか？
　業務用FPS４ｘ４
　楽しめるAIを作れるか？
　　拠点制圧が肝
　　　あえて取らせて、攻め込んで得点をとるとかの手法をある。
　COMとの連携をとりたい
　　C4
賢くなるとは？
　プレイヤーを守るのが大事
　
どう教育する？
　受けたダメージ量
　　ダメージを受けないように振舞う（リーダーとしてのプレイヤー）

回数がこなせられない。
　ダメージ１つ１つに対して学習する

学習するメリット
　プレイスタイルのはやり廃り

全国のデータを取るのは？
　はやりは全国で大体同じ。
　プレイヤーごとの違いもある。


自動でテストできるものは、強いのは作れるだろう。
楽しいのは作れない
-->
<hr>

<h2>■グループワークの結果を何人か紹介</h2>
<p>
□デバッグに使う<br>
　パラメータ調整が失敗したかを確認<br>
　レベルデザイナの考えで設定したパラメータが、もともとの目的に合致しているか？<br>
　例：機動力が高いキャラを作ろうとして足を速くしたら、うまく曲がれなくて反応が鈍いキャラに仕上がってしまったのをAIによってチェック
</p>

<p>
□カードゲーム<br>
　思考ルーチン、デッキは用意されたとする（追加はＯＫ）。<br>
　AIがデッキを作る。<br>
　遺伝的アルゴリズムで対戦させて良いデッキを作る。<br>
　新しいカードが配信したときに、それを組み込んだデッキを勝手に作る。<br>
　プレイスタイルに流行があるので、それにも対応できる。
</p>

<hr>

<h2>■次回</h2>
<p>
12/15：プロジェクターが使える懇親会を考えている<br>
自動生成の話<br>
AoE3
</p>

<hr>

<h2>■さいごに</h2>

<p>
遺伝的アルゴリズムは、組んだことないですが、森川さんの本は持ってたりするので、<br>
結構、知っていた内容でした。
</p>
<p>
グループワークでも話が出ていたのですが、強くするＡＩを遺伝的アルゴリズムで作ってもしょうがないので、
たのしませるＡＩを如何にして作るか考えて幸せになりたいですね。
</p>
</div>
<br clear=all>
<br clear=all>
<br clear=all>
<center>
<hr>
<p><a href="../index.html">もどる</a></p>
<p><a href="mailto:imagire@gmail.com">imagire@gmail.com</a></p>
</center>

</body>
</html>
